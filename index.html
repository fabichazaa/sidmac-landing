<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <title>SIDMAC</title>
</head>
<body>
    <header class="sidmac-header">
        <div class="sidmac-header-title">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="M720-360v-80h80q17 0 28.5 11.5T840-400q0 17-11.5 28.5T800-360h-80Zm0 160v-80h80q17 0 28.5 11.5T840-240q0 17-11.5 28.5T800-200h-80Zm-160 40q-33 0-56.5-23.5T480-240h-80v-160h80q0-33 23.5-56.5T560-480h120v320H560ZM280-280q-66 0-113-47t-47-113q0-66 47-113t113-47h60q25 0 42.5-17.5T400-660q0-25-17.5-42.5T340-720H200q-17 0-28.5-11.5T160-760q0-17 11.5-28.5T200-800h140q58 0 99 41t41 99q0 58-41 99t-99 41h-60q-33 0-56.5 23.5T200-440q0 33 23.5 56.5T280-360h80v80h-80Z"/>
            </svg>
            <div class="sidmac-header-title-text">
                <h1>SIDMAC</h1>
                <p>Estamos a tu servicio.</p>
            </div>
        </div>
        <button class="sidmac-header-hamburger-button" id="header-hamburguger-button" onclick="toggleHeaderLinks()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
            </svg>
        </button>
        <ul class="sidmac-header-links" id="header-links" toggle-header-links="0">
            <li><a class="sidmac-header-link" onclick="closeHederLinks()" href="#sidmac-services">Nuestros Servicios</a></li>
            <li><a class="sidmac-header-link" onclick="closeHederLinks()" href="#sidmac-work-pictures">Acerca de</a></li>
            <li><a class="sidmac-header-link" onclick="closeHederLinks()" href="#sidmac-">Servicios</a></li>
            <li><a class="sidmac-header-link" onclick="closeHederLinks()" href="#sidmac-contact">Contacto</a></li>
        </ul>
    </header>
    <main>
        <div class="sidmac-introduction">
            <div class="sidmac-introduction-text">
                <h2>Bienvenido a <span class="sidmac-orange">SIDMAC</span></h2>
                <p class="sidmac-introduction-summary">
                    Ofrecemos soluciones integrales para tu hogar y negocio.
                </p>
            </div>
            <div class="sidmac-introduction-qualities">
                <div class="sidmac-introduction-quality">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path d="m354-287 126-76 126 77-33-144 111-96-146-13-58-136-58 135-146 13 111 97-33 143ZM233-120l65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Zm247-350Z"/>
                    </svg>
                    <div class="sidmac-introduction-quality-text">
                        <h4>Experiencia y Profesionalismo</h4>
                        <p> Más de 10 años brindando soluciones eficientes y duraderas.</p>
                    </div>
                </div>
                <div class="sidmac-introduction-quality">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path d="M754-81q-8 0-15-2.5T726-92L522-296q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l85-85q6-6 13-8.5t15-2.5q8 0 15 2.5t13 8.5l204 204q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13l-85 85q-6 6-13 8.5T754-81Zm0-95 29-29-147-147-29 29 147 147ZM205-80q-8 0-15.5-3T176-92l-84-84q-6-6-9-13.5T80-205q0-8 3-15t9-13l212-212h85l34-34-165-165h-57L80-765l113-113 121 121v57l165 165 116-116-43-43 56-56H495l-28-28 142-142 28 28v113l56-56 142 142q17 17 26 38.5t9 45.5q0 24-9 46t-26 39l-85-85-56 56-42-42-207 207v84L233-92q-6 6-13 9t-15 3Zm0-96 170-170v-29h-29L176-205l29 29Zm0 0-29-29 15 14 14 15Zm549 0 29-29-29 29Z"/>
                    </svg>
                    <div class="sidmac-introduction-quality-text">
                        <h4>Atención Personalizada</h4>
                        <p>Nos adaptamos a tus necesidades con asesoramiento experto.</p>
                    </div>
                </div>
                <div class="sidmac-introduction-quality">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path d="m438-338 226-226-57-57-169 169-84-84-57 57 141 141Zm42 258q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q104-33 172-132t68-220v-189l-240-90-240 90v189q0 121 68 220t172 132Zm0-316Z"/>
                    </svg>
                    <div class="sidmac-introduction-quality-text">
                        <h4>Seguridad y Confianza</h4>
                        <p>Productos de la más alta calidad para tu tranquilidad.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="sidmac-services" id="sidmac-services">
            <h2>Nuestros Servicios</h2>
            <div class="sidmac-services-cards">
                <div class="sidmac-services-card-row">
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_bobinado_motores.jpg" alt="Bobinado de motores">
                        <div class="sidmac-services-card-overlay">Bobinado de Motores</div>
                    </div>
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_tablero.jpg" alt="Instalación eléctrica">
                        <div class="sidmac-services-card-overlay">Instalaciones Eléctricas Domiciliarias</div>
                    </div>
                </div>
                <div class="sidmac-services-card-row">
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_bobinado_motor.jpg" alt="Bobinado de motores">
                        <div class="sidmac-services-card-overlay">Instalación de Cisterna</div>
                    </div>
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_bobinado_motor.jpg" alt="Bomba pileta">
                        <div class="sidmac-services-card-overlay">Mantenimiento de Bombas de Pileta</div>
                    </div>
                </div>
                <div class="sidmac-services-card-row">
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_pergola.jpg" alt="Pergolas">
                        <div class="sidmac-services-card-overlay">Plomería, pintura, pergolas, pisos</div>
                    </div>
                    <div class="sidmac-services-card">
                        <img src="assets/images/sidmac_instalacion_electrica_domiciliaria.jpg" alt="Bobinado de motores">
                        <div class="sidmac-services-card-overlay">Mantenimiento de casas en general</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
     function getDominantColor(image) {
            return new Promise((resolve) => {
                const canvas = document.createElement("canvas");
                const ctx = canvas.getContext("2d");
                image.crossOrigin = "Anonymous";

                image.onload = function () {
                    canvas.width = image.naturalWidth;
                    canvas.height = image.naturalHeight;
                    ctx.drawImage(image, 0, 0, canvas.width, canvas.height);

                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
                    let r = 0, g = 0, b = 0, count = 0;

                    for (let i = 0; i < imageData.length; i += 40) {
                        r += imageData[i];
                        g += imageData[i + 1];
                        b += imageData[i + 2];
                        count++;
                    }

                    r = Math.floor(r / count);
                    g = Math.floor(g / count);
                    b = Math.floor(b / count);

                    resolve(`rgb(${r},${g},${b})`);
                };
            });
        }

        function lightenColor(rgb, factor = 0.6) {
            let [r, g, b] = rgb.match(/\d+/g).map(Number);
            r = Math.min(255, r + (255 - r) * factor);
            g = Math.min(255, g + (255 - g) * factor);
            b = Math.min(255, b + (255 - b) * factor);
            return `rgb(${Math.round(r)}, ${Math.round(g)}, ${Math.round(b)})`;
        }

        function transparentColor(rgb, alpha = 0.5) {
            let [r, g, b] = rgb.match(/\d+/g).map(Number);
            return `rgba(${r}, ${g}, ${b}, ${alpha})`;
        }

        async function applyColors() {
            const imageBoxes = document.querySelectorAll(".sidmac-services-card");

            for (const box of imageBoxes) {
                const img = box.querySelector("img");
                const overlay = box.querySelector(".sidmac-services-card-overlay");

                const color = await getDominantColor(img);
                const lighterColor = lightenColor(color);

                box.style.borderColor = lighterColor;

                // Gradient with solid edges and transparent center
                overlay.style.background = `
            linear-gradient(to right, ${lighterColor}, ${transparentColor(lighterColor, 0.4)}, ${lighterColor}),
            linear-gradient(to top, ${lighterColor}, ${transparentColor(lighterColor, 0.3)})
        `;            }
        }

        //applyColors();
    </script>
    <script src="assets/js/scripts.js"></script>
</body>
</html>